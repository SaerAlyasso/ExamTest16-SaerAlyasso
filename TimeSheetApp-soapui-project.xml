<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="4f7a49a7-c9fe-49a1-aa1a-0dacadb09741" activeEnvironment="Default" name="TimeSheetApp" resourceRoot="" soapui-version="5.3.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="064a0c1e-4028-48c6-964c-a1f066466f9d" wadlVersion="http://wadl.dev.java.net/2009/02" name="Get-AllEmployee" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint></con:endpoints><con:resource name="All" path="/employees/all" id="1c31881c-a6cc-48fe-9bad-223ec20b1ffd"><con:settings/><con:parameters/><con:method name="All 1" id="b8a6dea5-2510-4633-bd6c-5eec5a6ea0c8" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="Request 1" id="5e589c59-5c48-49c6-97a3-fe6bd9a0cf56" mediaType="application/json"><con:settings/><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="36140b77-6bf9-4507-bc53-4093e5037ad9" wadlVersion="http://wadl.dev.java.net/2009/02" name="Post-NewEmployee" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Create" path="/employees/create" id="e1520054-d8a8-4bc2-b999-c02eedcf1d14"><con:settings/><con:parameters/><con:method name="Create 1" id="4cfead9b-dd5c-4755-a5e1-253fdd5a1dae" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>400 404</con:status><con:params/><con:element xmlns:cre="https://shielded-harbor-21142.herokuapp.com/employees/create">cre:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="083444db-018c-4421-a28f-a168029e47e8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="f2cb160c-9f47-4b8d-9547-8269fa06617e" wadlVersion="http://wadl.dev.java.net/2009/02" name="Delete-Employee" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Delete" path="/employees/delete" id="194aa4e4-e72f-48e1-b88e-c1949b603528"><con:settings/><con:parameters/><con:method name="Delete 1" id="f4076f41-1a17-4b9e-b9f6-bddff47e0402" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:del="https://shielded-harbor-21142.herokuapp.com/employees/delete">del:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="ba7badc1-d5b7-49d6-a923-5b5e22027e8f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="19ecf090-ab85-4c8d-8a44-05490615c3ef" wadlVersion="http://wadl.dev.java.net/2009/02" name="TimeSheetApp" type="rest" definitionUrl="saer" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints/></con:interface><con:testSuite id="d3147c58-ee2f-40f0-bd6f-d387f614c7fa" name="TimeSheetApp-TestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="a08318d5-49c5-4783-9474-10af1a0e362f" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TimeSheetApp-TestCase" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Static-EmpData-POST" id="55ae5054-2531-496f-b776-8039b4a1d7d8"><con:settings/><con:config><script>def Email="nacka@mail.com"
def FirstName="ttt"
def Gender="ttt"
def LastName="ttt"
def Role="Developer"

log.info("Email: "+Email)
log.info("FirstName: "+FirstName)
log.info("Gender: "+Gender)
log.info("LastName: "+LastName)
log.info("Role: "+Role)

com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("email",Email)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("firstName",FirstName)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("gender",Gender)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("lastName",LastName)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("role",Role)</script></con:config></con:testStep><con:testStep type="restrequest" name="Post-NewEmployee" id="615bc4f5-2ee0-409d-9e35-23b6fa600140"><con:settings/><con:config service="Post-NewEmployee" resourcePath="/employees/create" methodName="Create 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Post-NewEmployee" id="083444db-018c-4421-a28f-a168029e47e8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request>{ "email":"${email}",
	"firstName": "${firstName}",
	"gender": "${gender}",
	"lastName": "${lastName}",
	"role": "${role}"
	}</con:request><con:originalUri>https://shielded-harbor-21142.herokuapp.com/employees/create</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5b359b9f-fbe3-42f1-bb37-c0c2fe8bf5a0" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Get-AllEmployee" id="e1ed6d53-c5a1-4680-bf14-0060ebf425c2"><con:settings/><con:config service="Get-AllEmployee" resourcePath="/employees/all" methodName="All 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get-AllEmployee" id="5e589c59-5c48-49c6-97a3-fe6bd9a0cf56" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://shielded-harbor-21142.herokuapp.com/employees/all</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e9ef53fc-fd12-4ddd-9845-ecc9345b741a" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="60c87314-6790-4bcf-a916-a7e921a22d2a" name="Contains 1"><con:configuration><token>Test</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="a00b3612-c9f5-425f-80a6-a18a117df149" name="Contains"><con:configuration><token>Developer</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Dynamic-EmpData-DELETE" id="4ce6bb29-746b-4933-bd7d-61af02f525fa"><con:settings/><con:config><script>import groovy.json.JsonSlurper
import groovy.json.JsonBuilder
import groovy.json.JsonOutput
//import groovy.json.*;

def responseContent = testRunner.testCase.getTestStepByName("Get-AllEmployee").getPropertyValue("Response")
def employeeData = new JsonSlurper().parseText(responseContent)
//log.info(employeeData)

for(int i=0; i&lt;employeeData.size(); i++)
{
	if(employeeData.get(i).firstName == "ttt")
		{
			try{
				def email = employeeData.get(i).email
			def FirstName = employeeData.get(i).firstName
			def Gender = employeeData.get(i).gender
			def LastName = employeeData.get(i).lastName
			def Role = employeeData.get(i).role
			//log.info(" "+"Employee Email:"+" "+email)
			//def employee = new JsonOutput().toJson.(employeeData.get(i))
			//log.info("Testing whole object: "+ employee)
			com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("DeleteEmail", email)
			com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("DeleteFirstName",FirstName )
			com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("DeleteGender", Gender)
			com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("DeleteLastName", LastName)
			com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("DeleteRole", Role)
			//com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("EmployeeObject", employee.toString())
			}catch(Exception ex){
				log.info(ex.toString())
				}
			}
	
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Delete-Employee" id="89d5e71b-4c4c-4640-b5d1-f604841abd30"><con:settings/><con:config service="Delete-Employee" resourcePath="/employees/delete" methodName="Delete 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete-Employee" id="ba7badc1-d5b7-49d6-a923-5b5e22027e8f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request>{ "email":"${DeleteEmail}",
	"firstName": "${DeleteFirstName}",
	"gender": "${DeleteGender}",
	"lastName": "${DeleteLastName}",
	"role": "${DeleteRole}"
	}</con:request><con:originalUri>https://shielded-harbor-21142.herokuapp.com/employees/delete</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7c00e6ed-544c-4ba3-a414-dccf9c587831" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/></con:soapui-project>